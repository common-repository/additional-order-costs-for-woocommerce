{"version":3,"file":"aoc-wc-admin.js","mappings":"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","sources":["webpack://additional-order-costs-for-woocommerce/./assets/js/aoc-wc-admin.js"],"sourcesContent":["window.AdditionalOrderCostsForWooCommerce = window.AdditionalOrderCostsForWooCommerce || {};\n\n( function( window, document, $, plugin ) {\n\tvar $c = {};\n\n\tplugin.init = function() {\n\t\tplugin.cache();\n\t\tplugin.bindEvents();\n\t};\n\n\tplugin.cache = function() {\n\t\t$c.window = $( window );\n\t\t$c.body = $( document.body );\n\t};\n\n\tplugin.bindEvents = function() {\n\t};\n\n\t$( plugin.init );\n}( window, document, jQuery, window.AdditionalOrderCostsForWooCommerce ) );\n\njQuery(document).ready(function( $ ) {\n\t'use strict';\n\n\tvar AddCostsToOrderHandler = function() {\n\t\tvar self = this;\n\n\t\tself.displayErrors = self.displayErrors.bind( self );\n\t\tself.editCosts = self.editCosts.bind( self );\n\t\tself.cancelEdit = self.cancelEdit.bind( self );\n\t\tself.saveCosts = self.saveCosts.bind( self );\n\t\t$( '.inside' )\n\t\t\t.on( 'error_aoc_validation', this.displayErrors )\n\t\t\t.on( 'click', '.edit-aoc', this.editCosts )\n\t\t\t.on( 'click', '.aoc-cancel-button', this.cancelEdit )\n\t\t\t.on( 'click', '.aoc-save-button', this.saveCosts )\n\t\t\t.on( 'change', 'input.aoc-edit.aoc-error', this.toggleError );\n\t}\n\n\tAddCostsToOrderHandler.prototype.toggleError = function( e ) {\n\t\tconsole.log( 'toggling off' );\n\t\tvar aVal = $(this).val();\n\t\tif ( aVal ) {\n\t\t\tconsole.log( 'in the statement' );\n\t\t\t$(this).removeClass( 'aoc-error' );\n\t\t}\n\t}\n\n\t// Displays the tooltip to get the new cost of goods total for an order\n\tAddCostsToOrderHandler.prototype.editCosts = function( e ) {\n\t\te.preventDefault();\n\t\t$('.edit-aoc-tooltip').toggle(false)\n\n\t\t// $( e.target.id ).toggle(true);\n\t\t$('.aoc-row' ).toggle(true);\n\t\t$('.edit-aoc-buttons').toggle(true);\n\t\t$('.edit-aoc').toggle(false);\n\t\t$('.aoc-edit').toggle(true);\n\t\t$('.aoc-view').toggle(false);\n\t\t// $('.aoc-view-' + index ).toggle(false);\n\t\t// $('#edit-aocs-tooltip-' + index ).toggle(true)\n\t\t// $('#edit-aocs-tooltip-' + index ).focus()\n\n\n\t\t// $('#edit-total-cogs-tooltip').toggle(true);\n\t\t// $('#total-cogs-input').focus();\n\n\t\tif ( AOCWC.debug )\n\t\t\tconsole.log('clicked total tooltip!');\n\t}\n\n\t// Displays the tooltip to get the new cost of goods total for an order\n\tAddCostsToOrderHandler.prototype.cancelEdit = function( e ) {\n\t\te.preventDefault();\n\n\t\t// $('.aoc-row' ).toggle(false);\n\t\t$('.edit-aoc-buttons').toggle(false);\n\t\t$('.edit-aoc').toggle(true);\n\t\t$('.aoc-edit').toggle(false);\n\t\t$('.aoc-view').toggle(true);\n\n\t\tlet additional_labels = $('span[id=\"aoc-label-view[]\"]');\n\t\tlet additional_costs = $('span[id=\"aoc-cost-view[]\"]');\n\t\tlet index = 0;\n\n\t\t$('.aoc-edit').toggle(false);\n\t\t$('.edit-aoc-buttons').toggle(false);\n\t\t$('.edit-aoc').toggle(true);\n\t\tconsole.log( \"we are before the eaches\" );\n\n\t\tadditional_labels.each( function() {\n\t\t\tconsole.log( additional_costs[index].val );\n\t\t\tif ( 0 != additional_costs[index].val && $(this).val() != 0 ) {\n\t\t\t\tconsole.log( \"cost was here needs displaying: label\" );\n\t\t\t\t$(this).toggle(true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconsole.log( \"this is in the else\" );\n\t\t\t\t$(this).toggle(false);\n\t\t\t}\n\t\t\tindex++;\n\t\t});\n\n\t\tindex = 0;\n\t\tadditional_costs.each( function() {\n\t\t\tconsole.log( additional_labels[index].val );\n\t\t\tif ( 0 != additional_labels[index].val && $(this).val() != 0 ) {\n\t\t\t\tconsole.log( \"label was here needs displaying: cost\" );\n\t\t\t\t$(this).toggle(true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconsole.log( \"this is in the second else\" );\n\t\t\t\t$(this).toggle(false);\n\t\t\t}\n\t\t\tindex++;\n\t\t});\n\n\t\tif ( AOCWC.debug )\n\t\t\tconsole.log('clicked cancel in the tooltip!');\n\t}\n\n\t// Displays the tooltip to get the new cost of goods total for an order\n\tAddCostsToOrderHandler.prototype.saveCosts = function( e ) {\n\t\te.preventDefault();\n\t\tlet debug = AOCWC.debug;\n\n\t\tvar labels = $('input[name=\"aoc_label[]\"]');\n\t\tvar costs  = $('input[name=\"aoc_cost[]\"]');\n\t\tvar index = 0;\n\t\tvar additional_cost_data = [];\n\t\tvar error_at = [];\n\n\t\tlabels.each( function() { \n\t\t\tvar aVal = $(this).val();\n\t\t\tif ( ! aVal ) {\n\t\t\t\tif ( costs[index].value > 0 || costs[index].value < 0 ) {\n\t\t\t\t\t// Trigger error\n\t\t\t\t\terror_at.push( { 'index': index, 'code': 10 } );\n\t\t\t\t} // Skip else as that would be blanks on both anyways.\n\t\t\t}\n\t\t\telse if ( aVal ) {\n\t\t\t\tif ( costs[index].value == 0 ) {\n\t\t\t\t\t// Trigger error\n\t\t\t\t\terror_at.push( { 'index': index, 'code': 11 } );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Need to store this\n\t\t\t\t\tadditional_cost_data.push( { 'label': aVal, 'cost': costs[index].value } );\n\t\t\t\t}\n\t\t\t}\n\t\t\tindex++;\n\t\t} );\n\n\t\tif ( debug )\n\t\t\tconsole.log( additional_cost_data );\n\n\t\tif ( error_at.length > 0 ) {\n\t\t\t$( '.inside' ).trigger( 'error_aoc_validation', [ error_at ] );\n\t\t\treturn;\n\t\t}\n\n\t\tlet indexer = $(this).data( 'aoc' );\n\t\t$('.aoc-edit-' + indexer ).toggle(false);\n\t\t$('.aoc-view-' + indexer ).toggle(true);\n\t\t$('#edit-aocs-tooltip-' + indexer ).toggle(false)\n\n\t\tvar data = {\n\t\t\taction: 'aoc_wc_set_costs',\n\t\t\tsecurity: AOCWC.nonce,\n\t\t\tpost_id: $('#post_ID').val(),\n\t\t\taoc: additional_cost_data,\n\t\t};\n\t\t\n\t\t$.post( ajaxurl, data, function(response)  {\n\t\t\tif ( debug )\n\t\t\t\tconsole.log( 'Additional Costs sent!' );\n\t\t\t$(this).addClass('loading');\n\t\t\t$(this).attr('disabled', true);\n\t\t})\n\t\t.done( function() {\n\t\t\t$(this).attr('disabled', false);\n\t\t\t$(this).removeClass('loading');\n\t\t\t\n\t\t})\n\t\t.fail( function() {\n\t\t\tif ( debug )\n\t\t\t\tconsole.log( 'failed' );\n\t\t})\n\t\t.success( function( response ) {\n\t\t\tif ( debug )\n\t\t\t\tconsole.log( 'success' );\n\t\t\t\n\t\t\tlet additional_labels = $('span[id=\"aoc-label-view[]\"]');\n\t\t\tlet additional_costs = $('span[id=\"aoc-cost-view[]\"]');\n\t\t\tlet index = 0;\n\n\t\t\t$('.aoc-edit').toggle(false);\n\t\t\t$('.edit-aoc-buttons').toggle(false);\n\t\t\t$('.edit-aoc').toggle(true);\n\t\t\tconsole.log( \"we are before the eaches\" );\n\n\t\t\tadditional_labels.each( function() {\n\t\t\t\tif ( undefined !== response.payload.cost_data[index] ) {\n\t\t\t\t\tconsole.log( \"cost was saved, adding the html and toggling on: this is the label\" );\n\t\t\t\t\t$(this).toggle(true);\n\t\t\t\t\t$(this).html( response.payload.cost_data[index].label );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.log( \"this is in the else\" );\n\t\t\t\t\t$(this).toggle(false);\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t});\n\t\t\tconsole.log( window.wc.wcSettings.CURRENCY );\n\n\t\t\tindex = 0;\n\t\t\tadditional_costs.each( function() {\n\t\t\t\tif ( undefined !== response.payload.cost_data[index] ) {\n\t\t\t\t\tconsole.log( \"cost was saved, adding the html and toggling on: this is the cost\" );\n\t\t\t\t\t$(this).toggle(true);\n\t\t\t\t\t$(this).html(\n\t\t\t\t\t\t'<span class=\"woocommerce-Price-amount amount\"><span class=\"woocommerce-Price-currencySymbol\">' + AOCWC.currency + '</span>' + response.payload.cost_data[index].cost.toFixed(2) + '</span>'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.log( \"this is in the second else\" );\n\t\t\t\t\t$(this).toggle(false);\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t});\n\t\t})\n\t\t.always( function() {\n\t\t\t\n\t\t});\n\t}\n\n\tAddCostsToOrderHandler.prototype.displayErrors = function( e, errors ) {\n\t\tlet debug = AOCWC.debug;\n\n\t\tif ( errors.length > 0 ) {\n\t\t\t$.each( errors, function( index, value ) {\n\n\t\t\t\tif ( value.code == 10 ) {\n\t\t\t\t\tif ( debug ) {\n\t\t\t\t\t\tconsole.log( 'setting label error on index: ' + value.index );\n\t\t\t\t\t\tconsole.log( $('#aoc_label_' + value.index ) );\n\t\t\t\t\t}\n\t\t\t\t\t$('#aoc_label_' + value.index ).addClass('aoc-error');\n\t\t\t\t}\n\t\t\t\tif ( value.code == 11 ) {\n\t\t\t\t\tif ( debug ) {\n\t\t\t\t\t\tconsole.log( 'setting cost error on index: ' + value.index );\n\t\t\t\t\t\tconsole.log( $('#aoc_cost_' + value.index ) );\n\t\t\t\t\t}\n\t\t\t\t\t$('#aoc_cost_' + value.index ).addClass('aoc-error');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tnew AddCostsToOrderHandler();\n});\n"],"names":["window","AdditionalOrderCostsForWooCommerce","document","$","plugin","$c","init","cache","bindEvents","body","jQuery","ready","AddCostsToOrderHandler","self","displayErrors","bind","editCosts","cancelEdit","saveCosts","on","toggleError","prototype","e","console","log","aVal","val","removeClass","preventDefault","toggle","AOCWC","debug","additional_labels","additional_costs","index","each","labels","costs","additional_cost_data","error_at","value","push","length","trigger","indexer","data","action","security","nonce","post_id","aoc","post","ajaxurl","response","addClass","attr","done","fail","success","undefined","payload","cost_data","html","label","wc","wcSettings","CURRENCY","currency","cost","toFixed","always","errors","code"],"sourceRoot":""}